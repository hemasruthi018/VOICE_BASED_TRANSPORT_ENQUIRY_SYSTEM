{"ast":null,"code":"var _jsxFileName = \"D:\\\\Desktop\\\\dbmsproject\\\\Voice-based-Transport-Enquiry-System\\\\voiceenquirysystem\\\\src\\\\Components\\\\Welcome\\\\Welcome.js\";\nimport React, { Component } from 'react';\nimport { Calendar } from 'primereact/calendar';\nimport { AutoComplete } from 'primereact/autocomplete';\nimport './Welcome.css';\nimport 'primereact/resources/themes/nova-light/theme.css';\nimport 'primereact/resources/primereact.min.css';\nimport 'primeicons/primeicons.css';\nclass Welcome extends Component {\n  constructor(props) {\n    super(props);\n    this.filterFromPlace = event => {\n      this.setState({\n        filteredFrom: this.state.Stops.filter(place => place.toLowerCase().startsWith(event.query.toLowerCase()))\n      });\n    };\n    this.filterToPlace = event => {\n      const results = this.state.Stops.filter(place => place.toLowerCase().startsWith(event.query.toLowerCase())).filter(r => r.toLowerCase() !== this.state.fromSelect.toLowerCase());\n      this.setState({\n        filteredTo: results\n      });\n    };\n    this.handleRegister = event => {\n      event.preventDefault();\n      fetch('http://localhost:3001/CheckRoute', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          fromSelect: this.state.fromSelect,\n          toSelect: this.state.toSelect\n        })\n      }).then(res => res.json()).then(data => {\n        if (data.error === '') {\n          this.props.setPlaces(this.state.fromSelect, this.state.toSelect);\n          data.response.forEach(routeId => this.props.SetRouteId(routeId, 1));\n          this.props.onRouteChange('search');\n        } else {\n          alert(\"No such route exists\");\n        }\n      }).catch(err => console.log('Fetch error:', err));\n    };\n    const today = new Date();\n    this.state = {\n      minDate: new Date(today.setMonth(today.getMonth() - 1)),\n      maxDate: new Date(today.setMonth(today.getMonth() + 2)),\n      onwarddate: '',\n      fromSelect: '',\n      toSelect: '',\n      Stops: [],\n      filteredFrom: [],\n      filteredTo: []\n    };\n  }\n  componentDidMount() {\n    fetch('http://localhost:3001/BusStops').then(res => res.json()).then(data => this.setState({\n      Stops: JSON.parse(data)\n    })).catch(err => console.log(err));\n  }\n  render() {\n    return React.createElement(\"div\", {\n      className: \"formwarp pa2 shadow-2 center\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74\n      },\n      __self: this\n    }, React.createElement(\"form\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"wraap pa2 center\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"form-group col-md-10\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      htmlFor: \"onwarddate\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78\n      },\n      __self: this\n    }, \"Pick a Date: \"), React.createElement(Calendar, {\n      dateFormat: \"dd/mm/yy\",\n      value: this.state.onwarddate,\n      minDate: this.state.minDate,\n      maxDate: this.state.maxDate,\n      onChange: e => this.setState({\n        onwarddate: e.value\n      }),\n      showIcon: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"form-group col-md-10\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      htmlFor: \"from\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90\n      },\n      __self: this\n    }, \"Source Place:\"), React.createElement(AutoComplete, {\n      style: {\n        background: \"#000000\"\n      },\n      value: this.state.fromSelect,\n      suggestions: this.state.filteredFrom,\n      completeMethod: this.filterFromPlace,\n      size: 30,\n      placeholder: \"From Place\",\n      minLength: 1,\n      onChange: e => this.setState({\n        fromSelect: e.value\n      }),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"form-group col-md-10\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      htmlFor: \"to\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104\n      },\n      __self: this\n    }, \"Destination:\"), React.createElement(AutoComplete, {\n      style: {\n        background: \"#000000\"\n      },\n      value: this.state.toSelect,\n      suggestions: this.state.filteredTo,\n      completeMethod: this.filterToPlace,\n      size: 30,\n      placeholder: \"To Place\",\n      minLength: 1,\n      onChange: e => this.setState({\n        toSelect: e.value\n      }),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"form-group col-md-10\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"submit\",\n      value: \"Search Buses\",\n      style: {\n        marginLeft: '20px'\n      },\n      onClick: this.handleRegister,\n      className: \"btn btn-primary\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118\n      },\n      __self: this\n    })))));\n  }\n}\nexport default Welcome;","map":{"version":3,"names":["React","Component","Calendar","AutoComplete","Welcome","constructor","props","filterFromPlace","event","setState","filteredFrom","state","Stops","filter","place","toLowerCase","startsWith","query","filterToPlace","results","r","fromSelect","filteredTo","handleRegister","preventDefault","fetch","method","headers","body","JSON","stringify","toSelect","then","res","json","data","error","setPlaces","response","forEach","routeId","SetRouteId","onRouteChange","alert","catch","err","console","log","today","Date","minDate","setMonth","getMonth","maxDate","onwarddate","componentDidMount","parse","render","createElement","className","__source","fileName","_jsxFileName","lineNumber","__self","htmlFor","dateFormat","value","onChange","e","showIcon","style","background","suggestions","completeMethod","size","placeholder","minLength","type","marginLeft","onClick"],"sources":["D:/Desktop/dbmsproject/Voice-based-Transport-Enquiry-System/voiceenquirysystem/src/Components/Welcome/Welcome.js"],"sourcesContent":["import React, { Component } from 'react';\r\nimport { Calendar } from 'primereact/calendar';\r\nimport { AutoComplete } from 'primereact/autocomplete';\r\nimport './Welcome.css';\r\nimport 'primereact/resources/themes/nova-light/theme.css';\r\nimport 'primereact/resources/primereact.min.css';\r\nimport 'primeicons/primeicons.css';\r\n\r\nclass Welcome extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    const today = new Date();\r\n    this.state = {\r\n      minDate: new Date(today.setMonth(today.getMonth() - 1)),\r\n      maxDate: new Date(today.setMonth(today.getMonth() + 2)),\r\n      onwarddate: '',\r\n      fromSelect: '',\r\n      toSelect: '',\r\n      Stops: [],\r\n      filteredFrom: [],\r\n      filteredTo: []\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    fetch('http://localhost:3001/BusStops')\r\n      .then(res => res.json())\r\n      .then(data => this.setState({ Stops: JSON.parse(data) }))\r\n      .catch(err => console.log(err));\r\n  }\r\n\r\n  filterFromPlace = (event) => {\r\n    this.setState({\r\n      filteredFrom: this.state.Stops.filter(place =>\r\n        place.toLowerCase().startsWith(event.query.toLowerCase())\r\n      )\r\n    });\r\n  };\r\n\r\n  filterToPlace = (event) => {\r\n    const results = this.state.Stops.filter(place =>\r\n      place.toLowerCase().startsWith(event.query.toLowerCase())\r\n    ).filter(r => r.toLowerCase() !== this.state.fromSelect.toLowerCase());\r\n\r\n    this.setState({ filteredTo: results });\r\n  };\r\n\r\n  handleRegister = (event) => {\r\n    event.preventDefault();\r\n    fetch('http://localhost:3001/CheckRoute', {\r\n      method: 'POST',\r\n      headers: { 'Content-Type': 'application/json' },\r\n      body: JSON.stringify({\r\n        fromSelect: this.state.fromSelect,\r\n        toSelect: this.state.toSelect\r\n      })\r\n    })\r\n      .then(res => res.json())\r\n      .then(data => {\r\n        if (data.error === '') {\r\n          this.props.setPlaces(this.state.fromSelect, this.state.toSelect);\r\n          data.response.forEach(routeId => this.props.SetRouteId(routeId, 1));\r\n          this.props.onRouteChange('search');\r\n        } else {\r\n          alert(\"No such route exists\");\r\n        }\r\n      })\r\n      .catch(err => console.log('Fetch error:', err));\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className='formwarp pa2 shadow-2 center'>\r\n        <form>\r\n          <div className='wraap pa2 center'>\r\n            <div className=\"form-group col-md-10\">\r\n              <label htmlFor=\"onwarddate\">Pick a Date: </label>\r\n              <Calendar\r\n                dateFormat=\"dd/mm/yy\"\r\n                value={this.state.onwarddate}\r\n                minDate={this.state.minDate}\r\n                maxDate={this.state.maxDate}\r\n                onChange={(e) => this.setState({ onwarddate: e.value })}\r\n                showIcon\r\n              />\r\n            </div>\r\n\r\n            <div className=\"form-group col-md-10\">\r\n              <label htmlFor=\"from\">Source Place:</label>\r\n              <AutoComplete\r\n                style={{ background: \"#000000\" }}\r\n                value={this.state.fromSelect}\r\n                suggestions={this.state.filteredFrom}\r\n                completeMethod={this.filterFromPlace}\r\n                size={30}\r\n                placeholder=\"From Place\"\r\n                minLength={1}\r\n                onChange={(e) => this.setState({ fromSelect: e.value })}\r\n              />\r\n            </div>\r\n\r\n            <div className=\"form-group col-md-10\">\r\n              <label htmlFor=\"to\">Destination:</label>\r\n              <AutoComplete\r\n                style={{ background: \"#000000\" }}\r\n                value={this.state.toSelect}\r\n                suggestions={this.state.filteredTo}\r\n                completeMethod={this.filterToPlace}\r\n                size={30}\r\n                placeholder=\"To Place\"\r\n                minLength={1}\r\n                onChange={(e) => this.setState({ toSelect: e.value })}\r\n              />\r\n            </div>\r\n\r\n            <div className=\"form-group col-md-10\">\r\n              <input\r\n                type='submit'\r\n                value='Search Buses'\r\n                style={{ marginLeft: '20px' }}\r\n                onClick={this.handleRegister}\r\n                className=\"btn btn-primary\"\r\n              />\r\n            </div>\r\n          </div>\r\n        </form>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Welcome;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}